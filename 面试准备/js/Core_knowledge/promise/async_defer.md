## script 异步加载 async 和 defer的区别

默认情况下，脚本的下载和解析式按照顺序来同步进行的，当下载和解析进行的时候，文档解析就会阻塞，然后等脚本下载和解析完成后才会继续下面的操作。
这也是为什么 script 脚本建议写在 body 标签的结尾，就是为了加快 HTML DOM 树的构建。

这就是async 和 defer的区别
- async 异步加载
脚本的加载也变成了异步的加载。**谁加载快谁先执行**。但脚本下载完成后会停止HTML解析，执行脚本，脚本解析完继续HTML解析。
```js
<script async src='./script1.js'></script>
```

- defer 延迟脚本
脚本会和HTML解析阶段并行下载，下载完成后不会立即解析脚本，会等HTML解析完成后才开始脚本的解析.

### 何时使用 async 和 defer 呢？
1. 如果 引入的 js 文件是模块化，不依赖任何脚本的情况下，可以使用 async 异步脚本
2. 引入的 js 文件依赖或者被其他 js 文件依赖，那么使用 defer 延迟脚本