## TCP 与 UDP
### TCP的三次握手
1. 主机A向主机B发送一个同步序列SYN，即询问对方我给你发送了一个信号，你可以用这个信号回应我，第一次握手表示主机A有发送数据的能力
2. 主机B在收到主机A发送的同步序列后，会回复给主机A一个应答序列ACK和之前收到的同步序列SYN，表示主机B有数据接收和发送的能力
3. 主机A在收到主机B的应答序列和之前发送的同步序列后，会回复给主机B一个应答序列，表示主机A有接收数据功能。
此时,主机A和主机B都有了数据接收和发送能力，就可以进行数据传输了。

### 为什么 TCP 一定要握手三次？
因为TCP两次握手并不能保证客户端有接收数据的能力，在接收到服务端发来的SYN和ACk后，他没有回复服务端，服务端并不知道浏览器接收没接收到自己发送的。并不能保证TCP连接安全

### TCP的四次挥手
1. 客户端要断开连接了，向主机端发送一个FIN = 1报文还有一起的序列号seq = x   (这时候客户端同时也变成了half-close(半关闭)状态，即无法向服务端发送报文，只能接收。s)
2. 服务端接收到后，就会向客户端发送ACK和刚才客户端发来的ack = x+1
3. 随后服务端又发送刚刚服务端发送的FIN = 1和seq = y和ACK和ack = x+来确保  客户端是要断开连接
4. 随后客户端接收到服务端的信息后，又发送给服务端ACK和ack = y+1，彻底断开连接了

### 为什么TCP分手一定要挥手四次？

TCP连接是全双工协议，就是说双方都可以同时向对方发送或接收数据。
当客户端想要断开连接时，只能确保自己没有数据要传输给服务器了，并不能确保服务器是否还有数据要发送。
第三次挥手前，服务器会把自己想说的话说完，然后再通知一次客户端。这时，双方才真正都为分开做好了准备。

第四次挥手，客户端接收到了来自服务端的分手请求，响应“接受”的信号，才最后给这一段关系画上了句号。


## TCP 与 UDP的对比
1. 在TCP协议中，连接的时候必须经过TCP的三次握手，断开的时候必须经过TCP的四次挥手，这是为了双方能够建立可靠又稳定的数据通道，所以TCP被称为"面向连接的可靠传输"
2. 而在UDP协议中，他没有握手和挥手，他想发就发，并不关心对方有没有收到自己发送的数据，也不存在拥塞控制，就算此时传输的网络特别慢，他也不会降低自己的传输效率，所以他被称为"面向无连接的不可靠传输"

但并不是说UDP没用
### UDP的应用场景
1. 可以面向对方服务。UDP不止支持一对一的传输，还支持一对多，多对多的传输。
2. 头部开销小。UDP的头部只有8个字节，而在TCP的头部需要20个字节
3. 随意也更加灵活。它不需要经历反复的握手和挥手过程，相反就发，更加灵活